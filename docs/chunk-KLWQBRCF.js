import{a as D}from"./chunk-AJFKTNKV.js";import{l as P,p as $}from"./chunk-NFQNMKCA.js";import{A as o,B as h,H as c,Ha as F,K as C,L as d,N as u,O as f,P as m,Q as a,R as g,Y as v,ba as l,ca as p,fa as w,ga as L,ja as b,ka as x,m as M,s as S,t as y,wa as T,x as E,ya as k,za as I}from"./chunk-VBDSVXC6.js";var G=(e,t)=>t.iso_3166_1;function N(e,t){if(e&1&&(m(0,"span",8),l(1),a()),e&2){let n=t.$implicit;o(1),p(n.name)}}var O=(e,t)=>t.id;function B(e,t){if(e&1&&(m(0,"span",13),l(1),a()),e&2){let n=t.$implicit;o(1),p(n.name)}}function j(e,t){if(e&1&&(m(0,"div",9),S(),m(1,"svg",10),g(2,"path",11),a(),y(),m(3,"span",12),l(4),b(5,"number"),a(),u(6,B,2,1,"span",14,O),a()),e&2){let n=v();o(4),p(x(5,1,n.movie.vote_average,"1.1-1")),o(2),f(n.movie.genres)}}function z(e,t){if(e&1&&(m(0,"div",17)(1,"div",18),g(2,"img",19),a()()),e&2){let n=t.$implicit;o(2),c("src","https://image.tmdb.org/t/p/original"+n.logo_path,E)("alt",n.name)}}function A(e,t){if(e&1&&(m(0,"h4",15),l(1,"Production Companies"),a(),m(2,"div",16),u(3,z,3,2,"div",20,O),a()),e&2){let n=v();o(3),f(n.productionCompanies)}}function R(e,t){if(e&1&&g(0,"app-media-inset-info",7),e&2){let n=v();c("title","Similar Movies")("medias",n.similar)("genres",n.genres)}}function H(e,t){if(e&1&&g(0,"app-media-inset-info",7),e&2){let n=v();c("title","Recommendations")("medias",n.recommendations)("genres",n.genres)}}var U=e=>({"background-image":e}),W=(()=>{let t=class t{constructor(s,r){this.http=s,this.route=r,this.movie={},this.productionCompanies=[],this.similar=[],this.recommendations=[],this.route.paramMap.subscribe(i=>{this.getGenres(),this.getMovie(Number(i.get("id"))),this.getSimilar(Number(i.get("id")),"similar"),this.getSimilar(Number(i.get("id")),"recommendations")})}getGenres(){this.http.getGenres("movie").subscribe({next:s=>this.genres=s.genres})}getMovie(s){this.http.getMedia("movie",s).subscribe({next:r=>{this.movie=r,this.productionCompanies=r.production_companies.filter(i=>i.logo_path!==null)}})}getSimilar(s,r){this.http.getMedias("movie",`${s}/${r}`).subscribe({next:i=>{r==="similar"?this.similar=i.results.filter(_=>_.poster_path!==null):r==="recommendations"&&(this.recommendations=i.results.filter(_=>_.poster_path!==null))}})}};t.\u0275fac=function(r){return new(r||t)(h(D),h(F))},t.\u0275cmp=M({type:t,selectors:[["app-movie"]],standalone:!0,features:[w],decls:17,vars:13,consts:[[1,"py-5",3,"ngStyle"],[1,"container","mt-5"],[1,"mb-0"],[1,"mt-2","mb-1"],["class","genres fx-wrap"],[1,"mt-3","mb-1"],[1,"mb-4"],[3,"title","medias","genres"],[1,"me-3","mb-1","d-inline-block"],[1,"genres","fx-wrap"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 18 18","fill","none"],["d","M10.2977 2.63248L11.6177 5.27248C11.7977 5.63998 12.2777 5.99248 12.6827 6.05998L15.0752 6.45748C16.6052 6.71248 16.9652 7.82248 15.8627 8.91748L14.0027 10.7775C13.6877 11.0925 13.5152 11.7 13.6127 12.135L14.1452 14.4375C14.5652 16.26 13.5977 16.965 11.9852 16.0125L9.74268 14.685C9.33768 14.445 8.67018 14.445 8.25768 14.685L6.01518 16.0125C4.41018 16.965 3.43518 16.2525 3.85518 14.4375L4.38768 12.135C4.48518 11.7 4.31268 11.0925 3.99768 10.7775L2.13768 8.91748C1.04268 7.82248 1.39518 6.71248 2.92518 6.45748L5.31768 6.05998C5.71518 5.99248 6.19518 5.63998 6.37518 5.27248L7.69518 2.63248C8.41518 1.19998 9.58518 1.19998 10.2977 2.63248Z","fill","#FFCD1A"],[1,"rate"],[1,"ps-1","ms-1","border-start"],["class","ps-1 ms-1 border-start"],[1,"mb-3"],[1,"row","gy-3","mb-4"],[1,"col-lg-3","col-md-4","col-sm-6"],[1,"company","rounded-3","text-center","p-3"],[1,"w-100","h-100",3,"src","alt"],["class","col-lg-3 col-md-4 col-sm-6"],["class","me-3 mb-1 d-inline-block"]],template:function(r,i){r&1&&(m(0,"section",0)(1,"div",1)(2,"h1",2),l(3),a(),m(4,"p",3),l(5),b(6,"date"),a(),u(7,N,2,1,"span",21,G),C(9,j,8,4,"div",4),m(10,"h4",5),l(11,"Story Line"),a(),m(12,"p",6),l(13),a(),C(14,A,5,0)(15,R,1,3,"app-media-inset-info",7)(16,H,1,3,"app-media-inset-info",7),a()()),r&2&&(c("ngStyle",L(11,U,"linear-gradient(to bottom, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(https://image.tmdb.org/t/p/original"+(i.movie.backdrop_path||i.movie.poster_path)+")")),o(3),p(i.movie.title),o(2),p(x(6,8,i.movie.release_date,"fullDate")),o(2),f(i.movie.production_countries),o(2),d(9,i.movie.genres?9:-1),o(4),p(i.movie.overview),o(1),d(14,i.productionCompanies.length>0?14:-1),o(1),d(15,i.similar.length>0?15:-1),o(1),d(16,i.recommendations.length>0?16:-1))},dependencies:[$,P,T,I,k],styles:["section[_ngcontent-%COMP%]{background-size:cover;background-position:center;background-attachment:fixed}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--story-color)}section[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%]{height:100px;background-color:#fff3}"]});let e=t;return e})();export{W as MovieComponent};
